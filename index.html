<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>puzzle_02</title>
    <style>
      .h3 {
        display: grid;
        align-items: center;
        justify-content: center;
      }

      #tab {
        margin: auto;
        margin-top: 5rem;
        width: 20rem;
        height: 20rem;
      }

      td {
        background-color: rgb(223, 135, 20);
      }

      #opa {
        opacity: 0.5;
      }
    </style>
  </head>

  <body>
    <h3 class="h3">Emp_Name : Puja Moravadiya</h3>
    <h3 class="h3">Date: 01/02/2024</h3>
    <h3 class="h3">Emp_id: 24DEV046</h3>

    <p class="demo">Score : <span id="score">0</span></p>
    <p class="demo">Timer : <span id="timer"></span></p>

    <table id="tab">
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td id="opa"></td>
        <td></td>
      </tr>
    </table>

    <script type="text/javascript">
      var count = 0;

      document.body.style.backgroundColor = "#FFE4C4";
      document.getElementById("opa").setAttribute("onClick", "append()");

      var sec = 30;
      const timer = setInterval(() => {
        sec--;
        document.getElementById("timer").innerHTML = sec;
        if (sec == 0) {
          clearInterval(timer);
          alert("Time's up Your Score is :" + count);
        }
      }, 1000);

      function append() {
        count++;
        document.getElementById("score").innerHTML = count;
        0;
        var opa = document.getElementById("opa");
        var table = document.getElementById("tab");
        let tds = document.querySelectorAll("#tab td");

        opa.setAttribute("id", "");
        opa.setAttribute("onClick", "");

        var length = table.rows[0].cells.length;
        console.log(length);
        var row_rand = Math.floor(Math.random() * length);
        var col_rand = Math.floor(Math.random() * length);
        tds[row_rand * col_rand].setAttribute("id", "opa");
        opa = tds[row_rand * col_rand];
        opa.setAttribute("onClick", "append()");

        //set color----

        var x = Math.floor(Math.random() * 225);
        var y = Math.floor(Math.random() * 225);
        var z = Math.floor(Math.random() * 225);
        var bgColor = "rgb(" + x + "," + y + "," + z + ")";
        for (td of tds) {
          td.style.background = bgColor;
        }
        //append logic of add row and col

        if (length > 6) {
        } else {
          let row = document.createElement("tr");
          for (let i = 0; i < length + 1; i++) {
            row.insertCell(i).style.background = bgColor;
          }
          let trs = document.querySelectorAll("tr");
          for (tr of trs) {
            td = document.createElement("td");
            tr.appendChild(td).style.backgroundColor = bgColor;
          }
          table.appendChild(row);
        }
      }
    </script>
  </body>
</html>
<!-- <script>
  let tr = document.createElement("tr");
  for (let i = 0; i < length; i++) {
    let td = document.createElement("td");
    // tr.appendChild(td);
    tr.appendChild(td).style.background = bgColor;
  }
  table.appendChild(tr);
  let trs = document.querySelectorAll("#table tr");
  for (let tr of trs) {
    let td = document.createElement("td");
    // tr.appendChild(td);
    tr.appendChild(td).style.background = bgColor;
  }
</script> -->
